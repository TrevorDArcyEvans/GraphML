@page "/AddGraphItems/{OrganisationId}/{OrganisationName}/{RepositoryManagerId}/{RepositoryManagerName}/{RepositoryId}/{RepositoryName}/{GraphId}/{GraphName}"

@using GraphML
@using System.Web;
@using BlazorTable

<b>Add Graph Items</b><p/>
<h6>@HttpUtility.UrlDecode(OrganisationName) / @HttpUtility.UrlDecode(RepositoryManagerName) / @HttpUtility.UrlDecode(RepositoryName) / @HttpUtility.UrlDecode(GraphName)</h6>

<div>
  <Table @ref="_table" TableItem="Node" Items="_data" PageSize="15" ColumnReorder="true" SelectionType="SelectionType.Multiple">
    <Column TableItem="Node" Title="Id" Field="@(x => x.Id)" Sortable="true" Filterable="true" Width="10%" DefaultSortColumn="true" />
    <Column TableItem="Node" Title="Name" Field="@(x => x.Name)" Sortable="true" Filterable="true" Width="20%" />
    <Pager ShowPageNumber="true" ShowTotalCount="true" ShowPageSizes="true" />
  </Table>
</div>

<div>
  <MatButton Icon="add" @onclick="@(e => AddSelectedGraphItems())" Raised="true">Add selected items</MatButton>
</div>

<div>
  <MatButton OnClick="@(e => { _addAllDialogIsOpen = true; })" Icon="library_add" >Add all items...</MatButton>
  <MatDialog @bind-IsOpen="@_addAllDialogIsOpen">
    <MatDialogTitle>Add *all* repository items?</MatDialogTitle>
    <MatDialogActions>
      <MatButton OnClick="@(e => { _addAllDialogIsOpen = false; })">Cancel</MatButton>
      <MatButton OnClick="@AddAllRepositoryItems">OK</MatButton>
    </MatDialogActions>
  </MatDialog>
</div>

<div>
    <MatButton Icon="arrow_back" @onclick="@(e => GotoBrowseGraphItems())">Back</MatButton>
</div>
