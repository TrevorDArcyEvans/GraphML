@using GraphML.UI.Web.Widgets

<b>Find Communities</b>
<p/>

<SpinLoader IsLoading="@(_data == null)">
  <LoadingTemplate>
    <GraphMLSpinner/>
  </LoadingTemplate>
  <ContentTemplate>

    <div>
      <MatTableEx
        Items="_data"
        Striped="true"
        class="mat-elevation-z5">
        <MatTableHeader>
          <th>Community Size</th>
        </MatTableHeader>
        <MatTableRow>
          <td>@context.Count</td>
        </MatTableRow>
      </MatTableEx>
    </div>

    <div>
      <MatButton OnClick="@(e => { _dlgNewItemName = null; _newChartDialogIsOpen = true; })" Icon="create_new_folder" Raised="true">New chart...</MatButton>
      <MatDialog @bind-IsOpen="@_newChartDialogIsOpen">
        <MatDialogTitle>Create new chart</MatDialogTitle>
        <MatDialogContent>
          <div>
            <MatTextField @bind-Value="@_dlgNewItemName"></MatTextField>
          </div>
          <hr/>
          <div>
            <label>Select top:</label>
            <MatSelectValue @bind-Value="_selNumItems" Items="@_numItems" ValueSelector="@(i => i)"></MatSelectValue>
          </div>
        </MatDialogContent>
        <MatDialogActions>
          <MatButton OnClick="@(e => { _newChartDialogIsOpen = false; })">Cancel</MatButton>
          <MatButton OnClick="@OkNewChartClick">OK</MatButton>
        </MatDialogActions>
      </MatDialog>
    </div>

  </ContentTemplate>
</SpinLoader>
